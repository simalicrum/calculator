<!DOCTYPE html>

<head>
  <link type="text/css" rel="stylesheet" href="stylesheet.css" />
</head>

<body>
  <div id="calculator">
    <div id="display">0</div>
    <div id="clear">C</div>
    <div id="plus-minus">+/-</div>
    <div id="percent">%</div>
    <div class="function" id="division">/</div>
    <div class="number" id="nine">9</div>
    <div class="number" id="eight">8</div>
    <div class="number" id="seven">7</div>
    <div class="function" id="multiplication">*</div>
    <div class="number" id="six">6</div>
    <div class="number" id="five">5</div>
    <div class="number" id="four">4</div>
    <div class="function" id="subtraction">-</div>
    <div class="number" id="three">3</div>
    <div class="number" id="two">2</div>
    <div class="number" id="one">1</div>
    <div class="function" id="addition">+</div>
    <div class="number" id="zero">0</div>
    <div id="decimal">.</div>
    <div id="equals">=</div>
  </div>
</body>

<script>
  let valueLeftSide = null;
  let valueRightSide = null;
  let evalFunction = null;
  let equalsTrigger = false;
  let displayReset = false;
  let displayNumber = 0;
  function updateDisplay(digitPress, displayParam) {
    switch (displayParam) {
      case 0:
        return digitPress;
      default:
        if (displayReset) {
          displayReset = false;
          console.log("Why did this happen?");
          return digitPress;
        }
        return displayParam * 10 + digitPress;
    }
  }
  function evalExpression(valueLHSParam, valueRHSParam, evalParam) {
    switch (evalParam) {
      case "addition":
        return valueLHSParam + valueRHSParam;
      case "subtraction":
        return valueLHSParam - valueRHSParam;
      case "multiplication":
        return valueLHSParam * valueRHSParam;
      case "division":
        return valueLHSParam / valueRHSParam;
      default:
        return valueRHSParam;
    }
  }
  function updateExpression(functionType) {
    displayReset = true;
    if (equalsTrigger) {
      valueRightSide = 0;
      equalsTrigger = false;
    }
    displayNumber = evalExpression(valueLeftSide, valueRightSide, evalFunction);
    evalFunction = functionType;
    valueLeftSide = displayNumber;
    valueRightSide = 0;
    console.log("This happened. displayNumber: ", displayNumber);
    document.getElementById("display").innerHTML = displayNumber;
  }
  document.getElementById("one").addEventListener("click", function () {
    displayNumber = updateDisplay(1, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("two").addEventListener("click", function () {
    displayNumber = updateDisplay(2, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("three").addEventListener("click", function () {
    displayNumber = updateDisplay(3, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("four").addEventListener("click", function () {
    displayNumber = updateDisplay(4, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("five").addEventListener("click", function () {
    displayNumber = updateDisplay(5, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("six").addEventListener("click", function () {
    displayNumber = updateDisplay(6, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("seven").addEventListener("click", function () {
    displayNumber = updateDisplay(7, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("eight").addEventListener("click", function () {
    displayNumber = updateDisplay(8, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("nine").addEventListener("click", function () {
    displayNumber = updateDisplay(9, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("zero").addEventListener("click", function () {
    displayNumber = updateDisplay(0, displayNumber);
    valueRightSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document.getElementById("clear").addEventListener("click", function () {
    displayNumber = 0;
    valueLeftSide = 0;
    valueRightSide = 0;
    evalFunction = null;
    equalsTrigger = false;
    document.getElementById("display").innerHTML = displayNumber;
  });
  document
    .getElementById("plus-minus")
    .addEventListener("click", function () {});
  document.getElementById("percent").addEventListener("click", function () {});
  document.getElementById("division").addEventListener("click", function () {
    updateExpression("division");
  });
  document
    .getElementById("multiplication")
    .addEventListener("click", function () {
      updateExpression("multiplication");
    });
  document.getElementById("subtraction").addEventListener("click", function () {
    updateExpression("subtraction");
  });
  document.getElementById("addition").addEventListener("click", function () {
    updateExpression("addition");
  });
  document.getElementById("decimal").addEventListener("click", function () {});
  document.getElementById("equals").addEventListener("click", function () {
    displayReset = true;
    displayNumber = evalExpression(valueLeftSide, valueRightSide, evalFunction);
    equalsTrigger = true;
    valueLeftSide = displayNumber;
    document.getElementById("display").innerHTML = displayNumber;
  });
</script>
